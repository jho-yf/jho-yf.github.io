# 消息队列



## 消息队列的作用

- 解耦：使用消息队列作为两个系统之间的通讯方式，两个系统不要相互依赖
- 异步：系统A给消费队列发送完消息之后，就可以继续做其他事情了
- 流量削峰：如果使用消息队列的方式来调用某个系统，那么消息将在队列中排队，由消费者自己控制消费速度



## 如何保证消息的顺序

MQ只需要保证局部有序、不需要保证全局有序



## 产品选型

### Kafka

优点：吞吐量非常大，性能非常好，集群高可用。

缺点：会丢数据，功能比较单一

使用场景：日志分析、大数据采集

### RabbitMQ

优点：消息可靠性高，功能全面

缺点：吞吐量比较低，消息堆积会影响性能。erlang语言不好定制。

使用场景：小规模场景

### RocketMQ

优点：高吞吐、高性能、高可用，功能全面

缺点：开源版本功能不如云上商业版。官方文档和周边生态不够成熟，客户端只支持java

使用场景：几乎所有场景
